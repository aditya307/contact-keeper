{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\contact-keeper\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\contact-keeper\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\contact-keeper\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';var Login=function Login(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='invalid Credentials'){setAlert(error,'danger');clearErrors();}// eslit -disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(email===''||password===''){setAlert('PLease fill all fields','danger');}else{// console.log('##################################');\n// console.log(email, password);\nlogin({email:email,password:password});}};var handleGoogleAuth=function handleGoogleAuth(e){e.preventDefault();window.location.href='http://localhost:5000/login/google';};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Lo\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"gin\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Enter Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleGoogleAuth// value='Google'\n,className:\"btn btn-primary btn-block\"},' ',\"Google\")));};export default Login;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/contact-keeper/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Login","props","alertContext","authContext","setAlert","login","error","clearErrors","isAuthenticated","history","push","email","password","user","setUser","onChange","e","target","name","value","onSubmit","preventDefault","handleGoogleAuth","window","location","href"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport AlertContext from '../../context/alert/alertContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\nconst Login = (props) => {\r\n  const alertContext = useContext(AlertContext);\r\n  const authContext = useContext(AuthContext);\r\n  const { setAlert } = alertContext;\r\n  const { login, error, clearErrors, isAuthenticated } = authContext;\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      props.history.push('/');\r\n    }\r\n    if (error === 'invalid Credentials') {\r\n      setAlert(error, 'danger');\r\n      clearErrors();\r\n    }\r\n    // eslit -disable-next-line\r\n  }, [error, isAuthenticated, props.history]);\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const { email, password } = user;\r\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (email === '' || password === '') {\r\n      setAlert('PLease fill all fields', 'danger');\r\n    } else {\r\n      // console.log('##################################');\r\n      // console.log(email, password);\r\n      login({\r\n        email,\r\n        password,\r\n      });\r\n    }\r\n  };\r\n  const handleGoogleAuth = (e) => {\r\n    e.preventDefault();\r\n    window.location.href = 'http://localhost:5000/login/google';\r\n  };\r\n  return (\r\n    <div className='form-container'>\r\n      <h1>\r\n        Lo<span className='text-primary'>gin</span>\r\n      </h1>\r\n      <form onSubmit={onSubmit}>\r\n        <div className='form-group'>\r\n          <label htmlFor='email'>Enter Email</label>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            value={email}\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor='password'>Password</label>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            value={password}\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n        <input\r\n          type='submit'\r\n          value='Login'\r\n          className='btn btn-primary btn-block'\r\n        />\r\n        <button\r\n          onClick={handleGoogleAuth}\r\n          // value='Google'\r\n          className='btn btn-primary btn-block'\r\n        >\r\n          {' '}\r\n          Google\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}